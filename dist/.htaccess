Options +FollowSymLinks -MultiViews
RewriteEngine On

# force https
RewriteCond %{SERVER_PORT} 80
RewriteRule ^(.*)$ https://v-os.ca/$1 [R,L]

# remove .html
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)\.html$ /$1 [L,R=301]

# redirect /file.html to /file
RewriteCond %{THE_REQUEST} \s/([^.]+)\.html [NC]
RewriteRule ^ /%1 [NE,L,R]

# map /file to /file.html
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)/?$ /$1.html  [L]

# index
DirectoryIndex Home.html

# redirect errors
ErrorDocument 404 https://v-os.ca/404.html
ErrorDocument 403 https://v-os.ca/404.html
ErrorDocument 500 https://v-os.ca/404.html